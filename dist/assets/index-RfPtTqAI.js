import{c as r,s as m,I as f,r as s,X as g,g as x,i as j,N as P,j as t}from"./index-pCtf4bye.js";import{M as h,P as v}from"./Pagination-QiJuUg_x.js";import{T as E}from"./Title-f9rDRsBm.js";import{M,e as T}from"./styledComponents-kJHRPBvS.js";import"./useIntersectionObserver-WxipN5vb.js";import"./Rating-txEZ0JVb.js";function I(){const o=r(m),c=r(f),[e,u]=s.useState(1),i=r(g),[p,d]=s.useState(!1),n=x(),l=j();return s.useEffect(()=>{n(P({token:o.token,page:e}))},[e,o,n]),s.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e]),s.useEffect(()=>{const a=setTimeout(()=>d(!0),1e3);return()=>clearTimeout(a)},[]),s.useEffect(()=>{o||l(-1)},[o,l]),t.jsxs(M,{$loaded:p,children:[t.jsx(E,{text:"popular"}),t.jsx(T,{$loaded:!i,children:c.slice(e*20-20,e*20).map(a=>t.jsx(h,{movie:a},a.id))}),!i&&t.jsx(v,{page:e,setPage:u})]})}export{I as default};
