import{c as r,s as m,G as f,r as s,V as g,g as x,i as j,K as P,j as t}from"./index-XMF6nw69.js";import{M as h,P as v}from"./Pagination-3jyTHhG9.js";import{T as E}from"./Title-nZA67SrN.js";import{M,e as T}from"./styledComponents-4f0GTOQO.js";import"./useIntersectionObserver-nKdWANDn.js";import"./Rating-kvKsPCVc.js";function U(){const o=r(m),c=r(f),[e,u]=s.useState(1),i=r(g),[p,d]=s.useState(!1),n=x(),l=j();return s.useEffect(()=>{n(P({token:o.token,page:e}))},[e,o,n]),s.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e]),s.useEffect(()=>{const a=setTimeout(()=>d(!0),1e3);return()=>clearTimeout(a)},[]),s.useEffect(()=>{o||l(-1)},[o,l]),t.jsxs(M,{$loaded:p,children:[t.jsx(E,{text:"popular"}),t.jsx(T,{$loaded:!i,children:c.slice(e*20-20,e*20).map(a=>t.jsx(h,{movie:a},a.id))}),!i&&t.jsx(v,{page:e,setPage:u})]})}export{U as default};
